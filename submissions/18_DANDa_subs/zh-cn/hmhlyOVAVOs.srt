1
00:00:00,200 --> 00:00:02,340
好了 我们来看一下解析 CSV 文件练习的答案

2
00:00:02,340 --> 00:00:06,320
我们首先要打开文件

3
00:00:06,320 --> 00:00:08,510
接下来 我们要读取文件的第一行

4
00:00:08,510 --> 00:00:12,180
然后 用逗号作为分隔符 拆分这一行数据

5
00:00:12,180 --> 00:00:15,350
这样 我们就得到了一系列值

6
00:00:15,350 --> 00:00:18,990
随后我们将从这个文件中抽出各数据项

7
00:00:18,990 --> 00:00:22,430
这些值就是这些项的关键字

8
00:00:22,430 --> 00:00:25,320
然后 我们要遍历文件的这些行

9
00:00:25,320 --> 00:00:28,270
前十行处理完毕后 我们就退出遍历

10
00:00:28,270 --> 00:00:30,920
在退出前 我们再次用逗号作为分隔符 拆分这些行

11
00:00:30,920 --> 00:00:34,050
然后 我们对这个空字典进行初始化

12
00:00:34,050 --> 00:00:36,980
如此一来 entry 每次都会成为我们需要构建的数据项

13
00:00:36,980 --> 00:00:41,110
我们会利用 从文件第一行得到的关键字

14
00:00:41,110 --> 00:00:43,320
以及刚刚在这里得到的单个字段值 

15
00:00:43,320 --> 00:00:46,870
来构建这个数据项

16
00:00:46,870 --> 00:00:50,670
我们要遍历这些字段并利用 enumerate() 方法

17
00:00:50,670 --> 00:00:53,740
获得这个字段列表中每一项的值及其索引值

18
00:00:53,740 --> 00:00:56,740
这样 我们就可以从 header 中

19
00:00:56,740 --> 00:00:59,430
获取适当的值

20
00:00:59,430 --> 00:01:03,230
以当做 entry 或数据项的关键字

21
00:01:03,230 --> 00:01:06,450
然后 我们用相应的值

22
00:01:06,450 --> 00:01:09,890
作为这个字段的值

23
00:01:09,890 --> 00:01:12,510
注意 在这两个情况中 这里都要使用 strip 方法

24
00:01:12,510 --> 00:01:15,990
以清除文件这行的标题值或单个值

25
00:01:15,990 --> 00:01:19,910
周围无关的空白部分

26
00:01:19,910 --> 00:01:22,940
这是数据清理的第一个例子

27
00:01:22,940 --> 00:01:25,130
这节课的主题就是数据清理

28
00:01:25,130 --> 00:01:28,750
在 Excel 或 CSV 文件中

29
00:01:28,750 --> 00:01:32,700
数值周围常常存在无用的空白处

30
00:01:32,700 --> 00:01:35,280
在文件中 你并不关心 甚至不会注意到它们

31
00:01:35,280 --> 00:01:37,550
但当你在 Python 中处理它们时

32
00:01:37,550 --> 00:01:40,830
它们会产生很大影响 尤其在你比较值的时候

33
00:01:40,830 --> 00:01:45,080
所以 最好要利用 strip 方法去除这些垃圾数据

34
00:01:45,080 --> 00:01:47,630
最后 我们要将这一个数据项添加至数据列表中

35
00:01:47,630 --> 00:01:51,170
这样一来 我们从第一个文件函数中

36
00:01:51,170 --> 00:01:53,530
返回的数据项列表就会含有这个数据项了
